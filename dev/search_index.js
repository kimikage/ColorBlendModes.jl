var documenterSearchIndex = {"docs":
[{"location":"#ColorBlendModes-1","page":"Introduction","title":"ColorBlendModes","text":"","category":"section"},{"location":"#","page":"Introduction","title":"Introduction","text":"This package provides the definitions and compositing operations of the blend modes.","category":"page"},{"location":"#","page":"Introduction","title":"Introduction","text":"The behavior of this package is based on the CSS Compositing and Blending Level 1.","category":"page"},{"location":"#Basic-usage-1","page":"Introduction","title":"Basic usage","text":"","category":"section"},{"location":"#","page":"Introduction","title":"Introduction","text":"For details of the API, see Blending and Compositing.","category":"page"},{"location":"#","page":"Introduction","title":"Introduction","text":"julia> using ColorBlendModes, ColorTypes, FixedPointNumbers;\n\njulia> BlendMultiply(RGB{Float32}(1.0, 0.5, 0.0), RGB{Float32}(0.5, 0.5, 0.5))\nRGB{Float32}(0.5f0,0.25f0,0.0f0)\n\njulia> blend(RGB(1, 1, 0), RGB(0, 1, 1), mode=BlendDarken)\nRGB{N0f8}(0.0,1.0,0.0)\n\njulia> image1 = [RGB(r, 1, b) for r=0:1, b=0:1]\n2×2 Array{RGB{N0f8},2} with eltype RGB{Normed{UInt8,8}}:\n RGB{N0f8}(0.0,1.0,0.0)  RGB{N0f8}(0.0,1.0,1.0)\n RGB{N0f8}(1.0,1.0,0.0)  RGB{N0f8}(1.0,1.0,1.0)\n\njulia> image2 = [RGB(r, g, 0) for g=0:1, r=0:1]\n2×2 Array{RGB{N0f8},2} with eltype RGB{Normed{UInt8,8}}:\n RGB{N0f8}(0.0,0.0,0.0)  RGB{N0f8}(1.0,0.0,0.0)\n RGB{N0f8}(0.0,1.0,0.0)  RGB{N0f8}(1.0,1.0,0.0)\n\njulia> BlendDifference.(image1, image2)\n2×2 Array{RGB{N0f8},2} with eltype RGB{Normed{UInt8,8}}:\n RGB{N0f8}(0.0,1.0,0.0)  RGB{N0f8}(1.0,1.0,1.0)\n RGB{N0f8}(1.0,0.0,0.0)  RGB{N0f8}(0.0,0.0,1.0)","category":"page"},{"location":"composite-operations/#Composite-Operations-1","page":"Composite Operations","title":"Composite Operations","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"The CompositeOperation type represents the Porter-Duff operators, or the modes of generalized alpha compositing.","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"The general form of the Porter-Duff equation is:","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"    αo = αsrc × Fa + αb × Fb\n    co = αsrc × Fa × Csrc + αb × Fb × Cb\n    Co = co / αo","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"where:","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"αo is the output alpha\nαsrc and αb are the source alpha and backdrop alpha\nFa and Fb are defined by the operator in use\nco is the output color pre-multiplied with the output alpha αo\nCsrc and Cb are the source color and backdrop color\nCo is the output color","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Note that the \"destination\" means the \"backdrop\", not the \"output\" in this context.","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"The following two images are used as examples below.","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Destination (backdrop) Source\n(Image: destination) (Image: source)","category":"page"},{"location":"composite-operations/#clear-1","page":"Composite Operations","title":"clear","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"using ColorBlendModes # hide\nusing Main.CompositingExamples # hide\ngenerate(CompositeClear, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result\n(Image: clear)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeClear","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeClear","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeClear","text":"CompositeClear\n\nA basic Porter-Duff operator with the fractional terms Fa = 0; Fb = 0. The composite result is completely transparent.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#copy-1","page":"Composite Operations","title":"copy","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeCopy, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result\n(Image: copy)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeCopy","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeCopy","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeCopy","text":"CompositeCopy\n\nA basic Porter-Duff operator with the fractional terms Fa = 1; Fb = 0. The composite result is the copy of source.\n\nnote: Note\nEven if the source alpha is zero, the color components are not cleared.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#destination-1","page":"Composite Operations","title":"destination","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeDestination, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result\n(Image: destination)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeDestination","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeDestination","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeDestination","text":"CompositeDestination\n\nA basic Porter-Duff operator with the fractional terms Fa = 0; Fb = 1. The composite result is the copy of destination (backdrop).\n\nnote: Note\nEven if the destination alpha is zero, the color components are not cleared.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#source-over-1","page":"Composite Operations","title":"source-over","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeSourceOver, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result SVG\n(Image: source-over) (Image: source-over_svg)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeSourceOver","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeSourceOver","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeSourceOver","text":"CompositeSourceOver\n\nA basic Porter-Duff operator with the fractional terms Fa = 1; Fb = 1 - αsrc. This means the simple alpha compositing.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#destination-over-1","page":"Composite Operations","title":"destination-over","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeDestinationOver, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result SVG\n(Image: destination-over) (Image: destination-over_svg)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeDestinationOver","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeDestinationOver","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeDestinationOver","text":"CompositeDestinationOver\n\nA basic Porter-Duff operator with the fractional terms Fa = 1 - αb; Fb = 1.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#source-in-1","page":"Composite Operations","title":"source-in","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeSourceIn, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result SVG\n(Image: source-in) (Image: source-in_svg)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeSourceIn","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeSourceIn","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeSourceIn","text":"CompositeSourceIn\n\nA basic Porter-Duff operator with the fractional terms Fa = αb; Fb = 0.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#destination-in-1","page":"Composite Operations","title":"destination-in","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeDestinationIn, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result SVG\n(Image: destination-in) (Image: destination-in_svg)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeDestinationIn","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeDestinationIn","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeDestinationIn","text":"CompositeDestinationIn\n\nA basic Porter-Duff operator with the fractional terms Fa = 0; Fb = αsrc.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#source-out-1","page":"Composite Operations","title":"source-out","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeSourceOut, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result SVG\n(Image: source-out) (Image: source-out_svg)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeSourceOut","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeSourceOut","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeSourceOut","text":"CompositeSourceOut\n\nA basic Porter-Duff operator with the fractional terms Fa = 1 - αb; Fb = 0.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#destination-out-1","page":"Composite Operations","title":"destination-out","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeDestinationOut, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result SVG\n(Image: destination-out) (Image: destination-out_svg)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeDestinationOut","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeDestinationOut","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeDestinationOut","text":"CompositeDestinationOut\n\nA basic Porter-Duff operator with the fractional terms Fa = 0; Fb = 1 - αsrc.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#source-atop-1","page":"Composite Operations","title":"source-atop","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeSourceAtop, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result SVG\n(Image: source-atop) (Image: source-atop_svg)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeSourceAtop","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeSourceAtop","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeSourceAtop","text":"CompositeSourceAtop\n\nA basic Porter-Duff operator with the fractional terms Fa = αb; Fb = 1 - αsrc.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#destination-atop-1","page":"Composite Operations","title":"destination-atop","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeDestinationAtop, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result SVG\n(Image: destination-atop) (Image: destination-atop_svg)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeDestinationAtop","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeDestinationAtop","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeDestinationAtop","text":"CompositeDestinationAtop\n\nA basic Porter-Duff operator with the fractional terms Fa = 1 - αsrc; Fb = αb.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#xor-1","page":"Composite Operations","title":"xor","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeXor, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result SVG\n(Image: xor) (Image: xor_svg)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeXor","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeXor","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeXor","text":"CompositeXor\n\nA basic Porter-Duff operator with the fractional terms Fa = 1 - αb; Fb = 1 - αsrc.\n\n\n\n\n\n","category":"constant"},{"location":"composite-operations/#lighter-1","page":"Composite Operations","title":"lighter","text":"","category":"section"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"generate(CompositeLighter, BlendNormal) # hide","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"Result SVG\n(Image: lighter) (Image: lighter_svg)","category":"page"},{"location":"composite-operations/#","page":"Composite Operations","title":"Composite Operations","text":"CompositeLighter","category":"page"},{"location":"composite-operations/#ColorBlendModes.CompositeOperations.CompositeLighter","page":"Composite Operations","title":"ColorBlendModes.CompositeOperations.CompositeLighter","text":"CompositeLighter\n\nA basic Porter-Duff operator with the fractional terms Fa = 1; Fb = 1.\n\n\n\n\n\n","category":"constant"},{"location":"utility-functions/#Utility-functions-1","page":"Utility Functions","title":"Utility functions","text":"","category":"section"},{"location":"utility-functions/#","page":"Utility Functions","title":"Utility Functions","text":"Base.parse\nkeyword","category":"page"},{"location":"utility-functions/#Base.parse","page":"Utility Functions","title":"Base.parse","text":"parse(t::Type{BlendMode}, keyword)\nparse(t::Type{CompositeOperation}, keyword)\n\nParse a keyword string as a BlendMode or CompositeOperation. Keywords are case-insensitive, but hyphens cannot be omitted.\n\nExamples\n\njulia> parse(BlendMode, \"color-burn\")\nBlendMode{Symbol(\"color-burn\")}()\n\njulia> parse(BlendMode, \"soft-light\") === BlendSoftLight\ntrue\n\njulia> parse(CompositeOperation, \"source-over\")\nCompositeOperation{Symbol(\"source-over\")}()\n\njulia> parse(CompositeOperation, \"source-over\") === CompositeSourceOver\ntrue\n\njulia> parse(CompositeOperation, \"SourceOver\")\nERROR: ArgumentError: invalid keyword: SourceOver\n\n\n\n\n\n","category":"function"},{"location":"utility-functions/#ColorBlendModes.keyword","page":"Utility Functions","title":"ColorBlendModes.keyword","text":"keyword(mode::BlendMode)\nkeyword(op::CompositeOperation)\n\nReturn the keyword of mode or op as a string.\n\nExample\n\njulia> keyword(BlendColorDodge)\n\"color-dodge\"\n\njulia> keyword(CompositeSourceOver)\n\"source-over\"\n\n\n\n\n\n","category":"function"},{"location":"blend-modes/#Blend-Modes-1","page":"Blend Modes","title":"Blend Modes","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"If your browser supports the CSS property mix-blend-mode, you will see pairs of images below. The former images are the results of ColorBlendModes, and the latter images are the results with the CSS.","category":"page"},{"location":"blend-modes/#normal-1","page":"Blend Modes","title":"normal","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"using ColorBlendModes # hide\nusing Main.CompositingExamples # hide\ngenerate(BlendNormal) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: normal)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix normal\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendNormal","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendNormal","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendNormal","text":"BlendNormal\n\nThe destination color is always the source color.\n\n    Cdest = Csrc\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#multiply-1","page":"Blend Modes","title":"multiply","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendMultiply) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: multiply)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix multiply\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendMultiply","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendMultiply","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendMultiply","text":"BlendMultiply\n\nThe source color is multiplied by the backdrop color.\n\n    Cdest = Cb × Csrc\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#screen-1","page":"Blend Modes","title":"screen","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendScreen) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: screen)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix screen\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendScreen","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendScreen","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendScreen","text":"BlendScreen\n\nThe complementary colors of the source and backdrop colors are multiplied, and the destination color is the complementary color of the multiplicated color.\n\n    Cdest = 1 - ((1 - Cb) × (1 - Csrc))\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#overlay-1","page":"Blend Modes","title":"overlay","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendOverlay) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: overlay)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix overlay\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendOverlay","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendOverlay","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendOverlay","text":"BlendOverlay\n\nThis mode uses the multiply or screen mode, depending on the backdrop color. The overlay mode is the inverse of the hard-light mode.\n\n    if Cb <= 0.5\n        Cdest = Csrc × 2Cb\n    else\n        Cdest = 1 - ((1 - Csrc) × (1 - 2Cb))\n    end\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#darken-1","page":"Blend Modes","title":"darken","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendDarken) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: darken)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix darken\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendDarken","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendDarken","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendDarken","text":"BlendDarken\n\nThe darker values of the backdrop color and the source color are selected.\n\n    Cdest = min(Cb, Csrc)\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#lighten-1","page":"Blend Modes","title":"lighten","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendLighten) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: lighten)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix lighten\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendLighten","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendLighten","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendLighten","text":"BlendLighten\n\nThe lighter values of the backdrop color and the source color are selected.\n\n    Cdest = max(Cb, Csrc)\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#color-dodge-1","page":"Blend Modes","title":"color-dodge","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendColorDodge) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: color-dodge)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix color-dodge\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendColorDodge","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendColorDodge","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendColorDodge","text":"BlendColorDodge\n\nThe destination color is the result of dividing the backdrop color by the complementary color of the source color.\n\n    if Cb == 0\n        Cdest = 0\n    elseif Csrc == 1\n        Cdest = 1\n    else\n        Cdest = min(1, Cb / (1 - Csrc))\n    end\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#color-burn-1","page":"Blend Modes","title":"color-burn","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendColorBurn) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: color-burn)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix color-burn\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendColorBurn","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendColorBurn","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendColorBurn","text":"BlendColorBurn\n\nThe destination color is the result of dividing the complementary color of the backdrop color by the source color.\n\nColorBlendModes uses the definition of W3C drafts as shown below. Note that there is a variant, which returns 0 when Cb == 1 and Csrc == 0.\n\n    if Cb == 1\n        Cdest = 1\n    elseif Csrc == 0\n        Cdest = 0\n    else\n        Cdest = 1 - min(1, (1 - Cb) / Csrc)\n    end\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#hard-light-1","page":"Blend Modes","title":"hard-light","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendHardLight) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: hard-light)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix hard-light\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendHardLight","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendHardLight","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendHardLight","text":"BlendHardLight\n\nThis mode uses the multiply or screen mode, depending on the source color. The overlay mode is the inverse of the overlay mode.\n\n    if Csrc <= 0.5\n        Cdest = Cb × 2Csrc\n    else\n        Cdest = 1 - ((1 - Cb) × (1 - 2Csrc))\n    end\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#soft-light-1","page":"Blend Modes","title":"soft-light","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendSoftLight) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: soft-light)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix soft-light\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendSoftLight","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendSoftLight","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendSoftLight","text":"BlendSoftLight\n\nThe result is similar to the hard-light mode, but milder. This mode is also related to the overlay mode.\n\nColorBlendModes uses the definition of W3C drafts as shown below. Note that there are different definitions of the soft-light.\n\n    if Csrc <= 0.5\n        Cdest = Cb - (1 - 2Csrc) × Cb × (1 - Cb)\n    else\n        if Cb <= 0.25\n            D = ((4Cb - 3) × Cb + 1) × 4Cb\n        else\n            D = sqrt(Cb)\n        end\n        Cdest = Cb + (2Csrc - 1) × (D - Cb)\n    end\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#difference-1","page":"Blend Modes","title":"difference","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendDifference) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: difference)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix difference\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendDifference","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendDifference","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendDifference","text":"BlendDifference\n\nThe destination values are the subtraction of the darker values from the lighter values of the backdrop and source colors.\n\n    Cdest = abs(Csrc - Cb)\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#exclusion-1","page":"Blend Modes","title":"exclusion","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendExclusion) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: exclusion)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix exclusion\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendExclusion","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendExclusion","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendExclusion","text":"BlendExclusion\n\nThe result is similar to the difference mode, but milder.\n\n    Cdest = Cb + Csrc - 2Cb × Csrc\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#hue-1","page":"Blend Modes","title":"hue","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendHue) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: hue)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix hue\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendHue","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendHue","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendHue","text":"BlendHue\n\nThe result is a color with the hue of the source color and the saturation and luminosity of the backdrop color.\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#saturation-1","page":"Blend Modes","title":"saturation","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendSaturation) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: saturation)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix saturation\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendSaturation","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendSaturation","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendSaturation","text":"BlendSaturation\n\nThe result is a color with the saturation of the source color and the hue and luminosity of the backdrop color.\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#color-1","page":"Blend Modes","title":"color","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendColor) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: color)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix color\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendColor","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendColor","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendColor","text":"BlendColor\n\nThe result is a color with the hue and saturation of the source color and the luminosity of the backdrop color.\n\n\n\n\n\n","category":"constant"},{"location":"blend-modes/#luminosity-1","page":"Blend Modes","title":"luminosity","text":"","category":"section"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"generate(BlendLuminosity) # hide","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"(Image: luminosity)","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"<div class=\"mix luminosity\"><div></div><div></div><div></div></div>","category":"page"},{"location":"blend-modes/#","page":"Blend Modes","title":"Blend Modes","text":"BlendLuminosity","category":"page"},{"location":"blend-modes/#ColorBlendModes.BlendModes.BlendLuminosity","page":"Blend Modes","title":"ColorBlendModes.BlendModes.BlendLuminosity","text":"BlendLuminosity\n\nThe result is a color with the luminosity of the source color and the hue and saturation of the backdrop color.\n\n\n\n\n\n","category":"constant"},{"location":"blending-and-compositing/#Blending-and-Compositing-1","page":"Blending and Compositing","title":"Blending and Compositing","text":"","category":"section"},{"location":"blending-and-compositing/#Types-for-specifying-modes-1","page":"Blending and Compositing","title":"Types for specifying modes","text":"","category":"section"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"ColorBlendModes defines two types for specifying modes: BlendMode for the mixing of opaque colors, and CompositeOperation for the generalized alpha compositing.","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"The users typically do not need to handle these types directly. Instead, the users can handle the predefined singleton instances of those types, e.g. BlendMultiply, BlendScreen and BlendOverlay for BlendMode, or CompositeSourceOver and CompositeSourceAtop for CompositeOperation. See Blend Modes and Composite Operations for all supported modes and their examples. Note that these predefined constants look like types, but are just instances.","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"BlendMode\nCompositeOperation","category":"page"},{"location":"blending-and-compositing/#ColorBlendModes.BlendModes.BlendMode","page":"Blending and Compositing","title":"ColorBlendModes.BlendModes.BlendMode","text":"BlendMode{mode}\n\nA type used for specifying the mixing mode of opaque colors. The mode should be a symbol.\n\n\n\n\n\n","category":"type"},{"location":"blending-and-compositing/#ColorBlendModes.CompositeOperations.CompositeOperation","page":"Blending and Compositing","title":"ColorBlendModes.CompositeOperations.CompositeOperation","text":"CompositeOperation{op}\n\nA type used for specifying the Porter-Duff operator, or the mode of generalized alpha compositing. The op should be a symbol.\n\n\n\n\n\n","category":"type"},{"location":"blending-and-compositing/#Blending-and-compositing-function-1","page":"Blending and Compositing","title":"Blending and compositing function","text":"","category":"section"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"The blend function creates the mixed color of two colors based on the specified blend mode and composite operation.","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"blend","category":"page"},{"location":"blending-and-compositing/#ColorBlendModes.blend","page":"Blending and Compositing","title":"ColorBlendModes.blend","text":"blend(c1, c2; mode=BlendNormal, opacity=1, op=CompositeSourceOver)\n\nCreate the mixed color of two colors c1 and c2. The c1 means the backdrop color and the c2 means the source color.\n\nmode specifies the blend mode, e.g. BlendMultiply.\n\nopacity modifies the source (i.e. c2-side) alpha by multiplication.\n\nop specifies the composite operations, e.g. CompositeSourceAtop.\n\nThe return type is the same as c1.\n\nExamples\n\njulia> blend(RGB(1, 0.5, 0), RGB(0, 0.5, 1), mode=BlendLighten)\nRGB{Float64}(1.0,0.5,1.0)\n\n\n\n\n\n","category":"function"},{"location":"blending-and-compositing/#Broadcasting-1","page":"Blending and Compositing","title":"Broadcasting","text":"","category":"section"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"The blend function is compatible with the broadcasting. Therefore, you can blend two images with the same size.","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"julia> image1 = [RGB(r, 1, b) for r=0:1, b=0:1]\n2×2 Array{RGB{N0f8},2} with eltype RGB{Normed{UInt8,8}}:\n RGB{N0f8}(0.0,1.0,0.0)  RGB{N0f8}(0.0,1.0,1.0)\n RGB{N0f8}(1.0,1.0,0.0)  RGB{N0f8}(1.0,1.0,1.0)\n\njulia> image2 = [RGB(r, g, 0) for g=0:1, r=0:1]\n2×2 Array{RGB{N0f8},2} with eltype RGB{Normed{UInt8,8}}:\n RGB{N0f8}(0.0,0.0,0.0)  RGB{N0f8}(1.0,0.0,0.0)\n RGB{N0f8}(0.0,1.0,0.0)  RGB{N0f8}(1.0,1.0,0.0)\n\njulia> blend.(image1, image2, mode=BlendMultiply)\n2×2 Array{RGB{N0f8},2} with eltype RGB{Normed{UInt8,8}}:\n RGB{N0f8}(0.0,0.0,0.0)  RGB{N0f8}(0.0,0.0,0.0)\n RGB{N0f8}(0.0,1.0,0.0)  RGB{N0f8}(1.0,1.0,0.0)","category":"page"},{"location":"blending-and-compositing/#Opacity-1","page":"Blending and Compositing","title":"Opacity","text":"","category":"section"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"The keyword argument opacity controls the alpha of source color c2. If c2 is an opaque color, the opacity is used as the source alpha. If c2 is a transparent color, opacity * alpha(c2) is used as the source alpha. The opacity is useful when used with broadcasting, i.e. the opacity acts as so-called \"layer opacity\".","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"The following are examples where an image of green triangles (image_green) is layered on an image of blue triangles (image_blue).","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"using ColorBlendModes # hide\nusing Main.CompositingExamples # hide\nimage_green = load(\"green.png\")\nimage_blue  = load(\"blue.png\")\n\nfor mode in (BlendNormal, BlendMultiply, BlendScreen)\n    for opacity in (25, 50, 75, 100)\n        out = blend.(image_blue, image_green, mode=mode, opacity=opacity/100)\n        save(keyword(mode) * \"_\" * string(opacity) * \".png\", out)\n    end\nend","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"blend mode opacity=0.25 opacity=0.5 opacity=0.75 opacity=1.0 (default)\nnormal (Image: normal25%) (Image: normal50%) (Image: normal75%) (Image: normal100%)\nmultiply (Image: multiply25%) (Image: multiply50%) (Image: multiply75%) (Image: multiply100%)\nscreen (Image: screen25%) (Image: screen50%) (Image: screen75%) (Image: screen100%)","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"note: Note\nThe opacity is typically specified in the range [0,1]. A value out of the range can be specified, but the blend function does not clip the intermediate values. Therefore an arbitrary color may be returned.","category":"page"},{"location":"blending-and-compositing/#Calling-with-singleton-instances-1","page":"Blending and Compositing","title":"Calling with singleton instances","text":"","category":"section"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"For convenience, the instances of BlendMode and CompositeOperation are callable. They are equivalent to the blend function, with the instance assigned to the keyword argument mode or op.","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"julia> c1 = RGBA(1, 0.5, 0, 0.5); c2 = RGB(0, 0.5, 1);\n\njulia> BlendMultiply(c1, c2) === blend(c1, c2, mode=BlendMultiply)\ntrue\n\njulia> CompositeSourceOver(c1, c2) === blend(c1, c2, op=CompositeSourceOver)\ntrue\n\njulia> BlendDarken(c1, c2, opacity=0.25, op=CompositeSourceAtop)\nRGBA{Float64}(0.75,0.5,0.125,0.5)\n\njulia> CompositeSourceAtop(c1, c2, opacity=0.25, mode=BlendDarken)\nRGBA{Float64}(0.75,0.5,0.125,0.5)","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"However, it is not recommended to call the predefined constants directly, e.g. BlendMultiply(c1, c2). They are should be called via method arguments or local variables.","category":"page"},{"location":"blending-and-compositing/#Avoiding-name-clashes-1","page":"Blending and Compositing","title":"Avoiding name clashes","text":"","category":"section"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"The main function of this package, blend, is a generic word and is therefore at risk of name clashes. The BlendMode, CompositeOperation and their singleton instances are defined in sub-modules called BlendModes and CompositeOperations, and hence you can introduce the set of definitions optionally. Note the presence of the plural s at the end.","category":"page"},{"location":"blending-and-compositing/#","page":"Blending and Compositing","title":"Blending and Compositing","text":"julia> blend(a, b) = (a + b) / 2;\n\njulia> using ColorTypes;\n\njulia> import ColorBlendModes; # instead of `using`\n\njulia> using ColorBlendModes.BlendModes, ColorBlendModes.CompositeOperations;\n\njulia> blend(0, 1) # does not clash\n0.5\n\njulia> ColorBlendModes.blend(Gray(1), Gray(0), mode=BlendLighten, op=CompositeSourceOver)\nGray{N0f8}(1.0)","category":"page"},{"location":"color-space-dependence/#Color-Space-Dependence-1","page":"Color Space Dependence","title":"Color Space Dependence","text":"","category":"section"},{"location":"color-space-dependence/#Supported-blend-modes-1","page":"Color Space Dependence","title":"Supported blend modes","text":"","category":"section"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"The behavior of blending depend on the color space (or color model), though the default behavior follows the W3C's definition.","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"The following table shows the blend modes and their definitions supported by each color type.","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"blend mode Gray RGB Lab/Luv HSV/HSL/HSI\nnormal W3C W3C W3C W3C\nmultiply W3C W3C PS-Lab \nscreen W3C W3C PS-Lab \noverlay W3C W3C PS-Lab \ndarken W3C W3C  \nlighten W3C W3C  \ncolor-dodge W3C W3C  \ncolor-burn W3C W3C  \nhard-light W3C W3C PS-Lab \nsoft-light W3C W3C PS-Lab \ndifference W3C W3C  \nexclusion W3C W3C  \nhue  W3C PS-Lab HSx\nsaturation  W3C PS-Lab HSx\ncolor  W3C PS-Lab HSx\nluminosity  W3C PS-Lab HSx","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"The abbreviations in the table mean the definitions of the blending used:","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"W3C:\nCompositing and Blending Level 1\nPS-Lab:\nthe Lab color mode of Adobe Photoshop\nHSx:\nHue-Saturation-{Value/Lightness/Intensity} as Hue-Saturation-\"Luminosity\"","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"The color types not shown above and the modes with blank are not officially supported. Note that even unsupported modes do not explicitly raise errors. For example, XYZ type is calculated in the same way as RGB type, but since XYZ values can be greater than 1, and the blend function does not clip the input colors, the validity of the results is not guaranteed.","category":"page"},{"location":"color-space-dependence/#Hue-interpolation-1","page":"Color Space Dependence","title":"Hue interpolation","text":"","category":"section"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"There are two ways to interpolate the two angles: clockwise and counterclockwise. For the hue interpolation, ColorBlendModes uses the way with the smaller angle between the two hues. Therefore, HSV, HSL and HSI colors do not have the associative property even in the simple alpha compositing (i.e. using BlendNormal and CompositeSourceOver).","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"julia> blend(HSV(30, 0.5, 0.5), HSV(350, 0.5, 0.5), opacity=0.5) # hue != 190\nHSV{Float64}(10.0,0.5,0.5)\n\njulia> c1, c2, c3 = HSL(0, 1, .8), HSLA(120, 1, .8, .5), HSLA(240, 1, .8, .5);\n\njulia> blend(blend(c1, c2), c3)\nHSL{Float64}(150.0,1.0,0.8)\n\njulia> blend(c1, blend(c2, c3))\nHSL{Float64}(240.0,1.0,0.8)","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"In addition, in the case of blending a gray, i.e., a color with zero saturation, and a non-gray, the hue of the non-gray color is used.","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"julia> for w in 0.0:0.2:1.0 # gray to yellow green, not via brown\n           println(blend(HSI(12.3, 0.0, 0.5), HSI(78.9, 1.0, 0.5), opacity=w))\n       end\nHSI{Float64}(78.9,0.0,0.5)\nHSI{Float64}(78.9,0.2,0.5)\nHSI{Float64}(78.9,0.4,0.5)\nHSI{Float64}(78.9,0.6,0.5)\nHSI{Float64}(78.9,0.8,0.5)\nHSI{Float64}(78.9,1.0,0.5)","category":"page"},{"location":"color-space-dependence/#Gamma-correction-1","page":"Color Space Dependence","title":"Gamma correction","text":"","category":"section"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"The blend function blends colors in a \"uniform\" space. Note that this does not mean it blends in the linear RGB space. In other words, the blend function does not care about the gamma.","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"If you want to blend RGB colors in the linear RGB space and to use the sRGB input/output, you should manually correct the gamma as follows:","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"using ColorTypes, ColorBlendModes\nusing Main.CompositingExamples #hide\nimage_green = load(\"green.png\") # in sRGB space\nimage_blue  = load(\"blue.png\") # in sRGB space\n\n# Note that the following are not the exact sRGB gamma calculations.\nto_linear(c::TransparentRGB) =\n    typeof(c)(red(c)^2.2, green(c)^2.2, blue(c)^2.2, alpha(c))\nto_srgb(c::TransparentRGB) =\n    typeof(c)(red(c)^0.4545, green(c)^0.4545, blue(c)^0.4545, alpha(c))\n\nblend_linear(c1, c2; mode=BlendNormal) =\n    to_srgb(blend(to_linear(c1), to_linear(c2), mode=mode))\n\nout_srgb   = blend.(image_blue, image_green, mode=BlendScreen) # the result is in sRGB\nsave(\"srgb.png\", out_srgb) #hide\nout = blend_linear.(image_blue, image_green, mode=BlendScreen) # the result is in sRGB\nsave(\"linear-rgb.png\", out) #hide","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"space Result SVG\nsRGB (Image: sRGB) (Image: sRGB svg)\nlinear RGB (Image: linearRGB) (Image: linearRGB svg)","category":"page"},{"location":"color-space-dependence/#","page":"Color Space Dependence","title":"Color Space Dependence","text":"note: Note\nSome graphics software also applies the gamma correction to alpha channels as grayscale images.","category":"page"},{"location":"function-index/#Index-1","page":"Index","title":"Index","text":"","category":"section"},{"location":"function-index/#","page":"Index","title":"Index","text":"","category":"page"}]
}
