<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Blending and Compositing · ColorBlendModes</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/mix.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="ColorBlendModes logo"/></a><div class="docs-package-name"><span class="docs-autofit">ColorBlendModes</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li class="is-active"><a class="tocitem" href>Blending and Compositing</a><ul class="internal"><li><a class="tocitem" href="#Types-for-specifying-modes-1"><span>Types for specifying modes</span></a></li><li><a class="tocitem" href="#Blending-and-compositing-function-1"><span>Blending and compositing function</span></a></li><li><a class="tocitem" href="#Calling-with-singleton-instances-1"><span>Calling with singleton instances</span></a></li></ul></li><li><a class="tocitem" href="../blend-modes/">Blend Modes</a></li><li><a class="tocitem" href="../composite-operations/">Composite Operations</a></li><li><a class="tocitem" href="../function-index/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Blending and Compositing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Blending and Compositing</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kimikage/ColorBlendModes.jl/blob/master/docs/src/blending-and-compositing.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Blending-and-Compositing-1"><a class="docs-heading-anchor" href="#Blending-and-Compositing-1">Blending and Compositing</a><a class="docs-heading-anchor-permalink" href="#Blending-and-Compositing-1" title="Permalink"></a></h1><h2 id="Types-for-specifying-modes-1"><a class="docs-heading-anchor" href="#Types-for-specifying-modes-1">Types for specifying modes</a><a class="docs-heading-anchor-permalink" href="#Types-for-specifying-modes-1" title="Permalink"></a></h2><p>ColorBlendModes defines two types for specifying modes: <a href="#ColorBlendModes.BlendMode"><code>BlendMode</code></a> for the mixing of opaque colors, and <a href="#ColorBlendModes.CompositeOperation"><code>CompositeOperation</code></a> for the generalized alpha compositing.</p><p>The users typically do not need to handle these types directly. Instead, the users can handle the predefined singleton instances of those types, e.g. <a href="../blend-modes/#multiply-1"><code>BlendMultiply</code></a>, <a href="../blend-modes/#screen-1"><code>BlendScreen</code></a> and <a href="../blend-modes/#overlay-1"><code>BlendOverlay</code></a> for <a href="#ColorBlendModes.BlendMode"><code>BlendMode</code></a>, or <a href="../composite-operations/#source-over-1"><code>CompositeSourceOver</code></a> and <a href="../composite-operations/#source-atop-1"><code>CompositeSourceAtop</code></a> for <a href="#ColorBlendModes.CompositeOperation"><code>CompositeOperation</code></a>. See <a href="../blend-modes/#Blend-Modes-1">Blend Modes</a> and <a href="../composite-operations/#Composite-Operations-1">Composite Operations</a> for all supported modes and their examples. Note that these predefined constants look like types, but are just instances.</p><article class="docstring"><header><a class="docstring-binding" id="ColorBlendModes.BlendMode" href="#ColorBlendModes.BlendMode"><code>ColorBlendModes.BlendMode</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BlendMode{mode}</code></pre><p>A type used for specifying the mixing mode of opaque colors. The <code>mode</code> should be a symbol.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kimikage/ColorBlendModes.jl/blob/4c8f558d1f1caa37b971fc714144dce746cf4d40/src/types.jl#L2-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ColorBlendModes.CompositeOperation" href="#ColorBlendModes.CompositeOperation"><code>ColorBlendModes.CompositeOperation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">CompositeOperation{op}</code></pre><p>A type used for specifying the Porter-Duff operator, or the mode of generalized alpha compositing. The <code>op</code> should be a symbol.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kimikage/ColorBlendModes.jl/blob/4c8f558d1f1caa37b971fc714144dce746cf4d40/src/types.jl#L245-L250">source</a></section></article><h2 id="Blending-and-compositing-function-1"><a class="docs-heading-anchor" href="#Blending-and-compositing-function-1">Blending and compositing function</a><a class="docs-heading-anchor-permalink" href="#Blending-and-compositing-function-1" title="Permalink"></a></h2><p>The <a href="#ColorBlendModes.blend"><code>blend</code></a> function creates the mixed color of two colors based on the specified blend mode and composite operation.</p><article class="docstring"><header><a class="docstring-binding" id="ColorBlendModes.blend" href="#ColorBlendModes.blend"><code>ColorBlendModes.blend</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">blend(c1, c2; mode=BlendNormal, opacity=1, op=CompositeSourceOver)</code></pre><p>Create the mixed color of two colors <code>c1</code> and <code>c2</code>. The <code>c1</code> means the backdrop color and the <code>c2</code> means the source color.</p><p><code>mode</code> specifies the blend mode, e.g. <a href="../blend-modes/#ColorBlendModes.BlendMultiply"><code>BlendMultiply</code></a>.</p><p><code>opacity</code> modifies the source (i.e. <code>c2</code>-side) alpha by multiplication.</p><p><code>op</code> specifies the composite operations, e.g. <a href="../composite-operations/#ColorBlendModes.CompositeSourceAtop"><code>CompositeSourceAtop</code></a>.</p><p>The return type is the same as <code>c1</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kimikage/ColorBlendModes.jl/blob/4c8f558d1f1caa37b971fc714144dce746cf4d40/src/operations.jl#L39-L52">source</a></section></article><p>For example:</p><pre><code class="language-julia-repl">julia&gt; blend(RGB(1, 0.5, 0), RGB(0, 0.5, 1), mode=BlendLighten)
RGB{Float64}(1.0,0.5,1.0)</code></pre><h3 id="Broadcasting-1"><a class="docs-heading-anchor" href="#Broadcasting-1">Broadcasting</a><a class="docs-heading-anchor-permalink" href="#Broadcasting-1" title="Permalink"></a></h3><p>The <a href="#ColorBlendModes.blend"><code>blend</code></a> function is compatible with the broadcasting. Therefore, you can blend two images with the same size.</p><pre><code class="language-julia-repl">julia&gt; image1 = [RGB(r, 1, b) for r=0:1, b=0:1]
2×2 Array{RGB{N0f8},2} with eltype RGB{Normed{UInt8,8}}:
 RGB{N0f8}(0.0,1.0,0.0)  RGB{N0f8}(0.0,1.0,1.0)
 RGB{N0f8}(1.0,1.0,0.0)  RGB{N0f8}(1.0,1.0,1.0)

julia&gt; image2 = [RGB(r, g, 0) for g=0:1, r=0:1]
2×2 Array{RGB{N0f8},2} with eltype RGB{Normed{UInt8,8}}:
 RGB{N0f8}(0.0,0.0,0.0)  RGB{N0f8}(1.0,0.0,0.0)
 RGB{N0f8}(0.0,1.0,0.0)  RGB{N0f8}(1.0,1.0,0.0)

julia&gt; blend.(image1, image2, mode=BlendMultiply)
2×2 Array{RGB{N0f8},2} with eltype RGB{Normed{UInt8,8}}:
 RGB{N0f8}(0.0,0.0,0.0)  RGB{N0f8}(0.0,0.0,0.0)
 RGB{N0f8}(0.0,1.0,0.0)  RGB{N0f8}(1.0,1.0,0.0)</code></pre><h3 id="Opacity-1"><a class="docs-heading-anchor" href="#Opacity-1">Opacity</a><a class="docs-heading-anchor-permalink" href="#Opacity-1" title="Permalink"></a></h3><p>The keyword argument <code>opacity</code> controls the alpha of source color <code>c2</code>. If <code>c2</code> is a opaque color, the <code>opacity</code> is used as the source alpha. If <code>c2</code> is a transparent color, <code>opacity * alpha(c2)</code> is used as the source alpha. The <code>opacity</code> is useful when used with broadcasting, i.e. the <code>opacity</code> acts as so-called &quot;layer opacity&quot;.</p><p>The following are examples where an image of green triangles (<code>image_green</code>) is layered on an image of blue triangles (<code>image_blue</code>).</p><pre><code class="language-julia">for mode in (BlendNormal, BlendMultiply, BlendScreen)
    for opacity in (25, 50, 75, 100)
        blend.(image_blue, image_green, mode=mode, opacity=opacity/100)
    end
end</code></pre><table><tr><th style="text-align: center">blend mode</th><th style="text-align: center"><code>opacity=0.25</code></th><th style="text-align: center"><code>opacity=0.5</code></th><th style="text-align: center"><code>opacity=0.75</code></th><th style="text-align: center"><code>opacity=1.0</code> (default)</th></tr><tr><td style="text-align: center">normal</td><td style="text-align: center"><img src="../assets/normal_25.png" alt="normal25%"/></td><td style="text-align: center"><img src="../assets/normal_50.png" alt="normal50%"/></td><td style="text-align: center"><img src="../assets/normal_75.png" alt="normal75%"/></td><td style="text-align: center"><img src="../assets/normal_100.png" alt="normal100%"/></td></tr><tr><td style="text-align: center">multiply</td><td style="text-align: center"><img src="../assets/multiply_25.png" alt="multiply25%"/></td><td style="text-align: center"><img src="../assets/multiply_50.png" alt="multiply50%"/></td><td style="text-align: center"><img src="../assets/multiply_75.png" alt="multiply75%"/></td><td style="text-align: center"><img src="../assets/multiply_100.png" alt="multiply100%"/></td></tr><tr><td style="text-align: center">screen</td><td style="text-align: center"><img src="../assets/screen_25.png" alt="screen25%"/></td><td style="text-align: center"><img src="../assets/screen_50.png" alt="screen50%"/></td><td style="text-align: center"><img src="../assets/screen_75.png" alt="screen75%"/></td><td style="text-align: center"><img src="../assets/screen_100.png" alt="screen100%"/></td></tr></table><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The <code>opacity</code> is typically specified in the range [0,1]. A value out of the range can be specified, but the <a href="#ColorBlendModes.blend"><code>blend</code></a> function does not clip the intermediate values. Therefore an arbitrary color may be returned.</p></div></div><h2 id="Calling-with-singleton-instances-1"><a class="docs-heading-anchor" href="#Calling-with-singleton-instances-1">Calling with singleton instances</a><a class="docs-heading-anchor-permalink" href="#Calling-with-singleton-instances-1" title="Permalink"></a></h2><p>For convenience, the instances of <a href="#ColorBlendModes.BlendMode"><code>BlendMode</code></a> and <a href="#ColorBlendModes.CompositeOperation"><code>CompositeOperation</code></a> are callable. They are equivalent to the <a href="#ColorBlendModes.blend"><code>blend</code></a> function, with the instance assigned to the keyword argument <code>mode</code> or <code>op</code>.</p><pre><code class="language-julia-repl">julia&gt; c1 = RGBA(1, 0.5, 0, 0.5); c2 = RGB(0, 0.5, 1);

julia&gt; BlendMultiply(c1, c2) === blend(c1, c2, mode=BlendMultiply)
true

julia&gt; CompositeSourceOver(c1, c2) === blend(c1, c2, op=CompositeSourceOver)
true

julia&gt; BlendDarken(c1, c2, opacity=0.25, op=CompositeSourceAtop)
RGBA{Float64}(0.75,0.5,0.125,0.5)

julia&gt; CompositeSourceAtop(c1, c2, opacity=0.25, mode=BlendDarken)
RGBA{Float64}(0.75,0.5,0.125,0.5)</code></pre><p>However, it is not recommended to call the predefined constants directly, e.g. <code>BlendMultiply(c1, c2)</code>. They are should be called via method arguments or local variables.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Introduction</a><a class="docs-footer-nextpage" href="../blend-modes/">Blend Modes »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 8 April 2020 03:07">Wednesday 8 April 2020</span>. Using Julia version 1.4.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
